<%- include('header.ejs') %>
<div class="mainBaapRegister">
  <div class="mainRegister">
    <% if(locals.book){ %>
    <h2>Edit Book</h2>
    <form action="/book" method="post">
      <div>
        <label for="">Book Title</label>
        <input type="text" name="title" value="<%= book.title %>" required />
      </div>
      <div>
        <label for="">Author Name</label>
        <input type="text" name="author" value="<%= book.author %>" required />
      </div>
      <div>
        <label for="">Rating</label>
        <input
          type="number"
          value="<%= book.rating %>"
          name="rating"
          required
        />
      </div>
      <div>
        <label for="">Date Read</label>
        <input
          type="date"
          name="readDate"
          value="<%= book ? book.readDate?.toISOString().substring(0, 10) : '' %>"
           required
        />
      </div>
      <div class="textarea">
        <label>Notes</label>
        <textarea name="notes" value="" required><%= book.notes %></textarea>
      </div>
      <div class="buttons">
        <button type="reset">Cancel</button>
        <button type="submit">Submit</button>
      </div>
      <input type="hidden" name="id" value="<%= book.id %>"  required/>
    </form>
    <% } else { %>
    <h2>Add a New Book</h2>
    <form action="/book" method="post">
      <div>
        <label for="">Book Title</label>
        <input type="text" name="title" placeholder="Enter book title"  required/>
      </div>
      <div>
        <label for="">Author Name</label>
        <input type="text" name="author" placeholder="Enter author's name" required/>
      </div>
      <div>
        <label for="">Rating</label>
        <input type="number" name="rating"  required/>
      </div>
      <div>
        <label for="">Date Read</label>
        <input type="date" name="readDate" placeholder="Select date" required/>
      </div>
      <div class="textarea">
        <label for="">Notes</label>
        <textarea name="notes" placeholder="Enter your Notes" required`></textarea>
      </div>
      <div class="buttons">
        <button type="reset">Cancel</button>
        <button type="submit">Submit</button>
      </div>
    </form>
    <% } %>
  </div>
</div>
